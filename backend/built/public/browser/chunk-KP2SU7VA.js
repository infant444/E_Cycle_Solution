import{b as de}from"./chunk-SGIQMBLY.js";import{a as z}from"./chunk-34AXRH62.js";import{A as B,B as ce,l as ie,n as F,o as h,p as A,q as T,r as ne,s as oe,t as j,u as le,v as re,w as k,x as V,y as D,z as ae}from"./chunk-FCENJK4V.js";import{n as te,s as y,t as x}from"./chunk-DNW7DQGQ.js";import{i as Y,j as Z,k as E,l as ee,m as N,n as C}from"./chunk-GBLLTKEA.js";import{a as W}from"./chunk-CAAQ6VVT.js";import{$b as X,Ib as i,Jb as m,Ka as K,Kb as b,Lb as O,Ma as l,Mb as I,Nb as P,Pb as w,Qb as Q,Rb as M,Sa as v,Sb as S,Ya as f,bb as _,mb as c,na as J,nb as e,ob as t,pb as d,wb as g,xb as u}from"./chunk-OQFJ3SRP.js";var G=class r{total_client=0;active_client=0;collection=0;value=0;static \u0275fac=function(n){return new(n||r)};static \u0275cmp=f({type:r,selectors:[["app-client-info"]],inputs:{total_client:"total_client",active_client:"active_client",collection:"collection",value:"value"},decls:42,vars:7,consts:[[1,"min-dashboard"],[1,"div2"],[1,"div1"],[1,"tit"],[1,"icon","blue"],[2,"font-size","2rem","width","2rem","height","2rem"],[1,"icon","green"],[1,"icon","orange"],[1,"icon","red"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p"),i(5,"Total Client"),t(),e(6,"h4"),i(7),t()(),e(8,"div",4)(9,"mat-icon",5),i(10,"person"),t()()()(),e(11,"div",1)(12,"div",2)(13,"div",3)(14,"p"),i(15,"Active Client"),t(),e(16,"h4"),i(17),t()(),e(18,"div",6)(19,"mat-icon",5),i(20,"person"),t()()()(),e(21,"div",1)(22,"div",2)(23,"div",3)(24,"p"),i(25,"Total Collection"),t(),e(26,"h4"),i(27),t()(),e(28,"div",7)(29,"mat-icon",5),i(30,"event"),t()()()(),e(31,"div",1)(32,"div",2)(33,"div",3)(34,"p"),i(35,"Total Value"),t(),e(36,"h4"),i(37),M(38,"currency"),t()(),e(39,"div",8)(40,"mat-icon",5),i(41,"show_chart"),t()()()()()),n&2&&(l(7),m(a.total_client),l(10),m(a.active_client),l(10),m(a.collection),l(10),m(S(38,4,a.value,"INR")))},dependencies:[x,y,N],styles:[".min-dashboard[_ngcontent-%COMP%]{width:100%;padding:.3rem 1rem;display:flex;justify-content:space-between;align-items:center}.div1[_ngcontent-%COMP%]{width:100%;display:flex;border-radius:.5rem;box-shadow:0 0 10px 2px #d3d3d3;background-color:#fff;padding:1.4rem .5rem;justify-content:space-around}.div2[_ngcontent-%COMP%]{width:15rem;height:7rem;display:flex;flex-direction:column;justify-content:center}.tit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:gray;text-transform:capitalize}.tit[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{font-size:1.4rem;padding-left:.1rem}.icon[_ngcontent-%COMP%]{padding:.4rem;border-radius:.4rem}.blue[_ngcontent-%COMP%]{background-color:#add8e687;color:#006aff}.green[_ngcontent-%COMP%]{background-color:#ade6c087;color:#0f6}.orange[_ngcontent-%COMP%]{background-color:#ecd28f87;color:#ffa200}.red[_ngcontent-%COMP%]{background-color:#e6adad87;color:#f30}"]})};var ue=r=>({display:r});function fe(r,o){r&1&&(e(0,"div",5)(1,"div",6),i(2," Contact Person's Name "),t(),e(3,"div",7),d(4,"input",24),t()())}var R=class r{constructor(o,n,a,p,s){this.formBuilder=o;this.clientx=n;this.clientServices=a;this.toaster=p;this.router=s}type="";clientInfo;display="none";client;isSubmitted=!1;ngOnInit(){this.client=this.formBuilder.group({name:["",h.required],email:["",[h.required,h.email]],type:["",h.required],phone:["",[h.required]],address:[""],website:[""],person:[""]})}ngOnChanges(o){o.clientInfo&&this.changeValue()}get FC(){return this.client.controls}close(){this.clientx.dis()}changeValue(){this.FC.name.setValue(this.clientInfo?.name||""),this.FC.email.setValue(this.clientInfo?.email||""),this.FC.type.setValue(this.clientInfo?.type||""),this.FC.phone.setValue(this.clientInfo?.contact_number||""),this.FC.address.setValue(this.clientInfo?.address||""),this.FC.website.setValue(this.clientInfo?.website||""),this.FC.person.setValue(this.clientInfo?.website||"")}submit(){if(this.isSubmitted=!0,this.client.invalid)return;let o=this.client.value,n={id:"",name:o.name,email:o.email,type:o.type,contact_number:o.phone,address:o.address,website:o.website,no_project:0,total_collection:0,value:0,is_current_project:!1,current_project:"",contact_person:o.type=="Individual"?"":o.person,last_collection_date:"",special_instruction:""};console.log(n),this.type=="edit"||this.clientServices.addClient(n).subscribe(a=>{this.toaster.success("Add Successfully"),this.clientx.dis()})}static \u0275fac=function(n){return new(n||r)(v(ae),v(L),v(z),v(ie),v(te))};static \u0275cmp=f({type:r,selectors:[["app-add-client"]],inputs:{type:"type",clientInfo:"clientInfo",display:"display"},features:[J],decls:54,vars:11,consts:[[1,"container",3,"ngStyle"],[1,"close",3,"click"],[1,"content"],[3,"title"],[3,"submit","formGroup"],[1,"input"],[1,"lab"],[1,"intp"],["type","text","formControlName","name",3,"className"],["formControlName","type",3,"className"],["value",""],["value","Software_Company"],["value","Hotel"],["value","Collage"],["value","Government"],["value","Individual"],["value","Apartment"],["type","email","formControlName","email",3,"className"],["type","tel","formControlName","phone",3,"className"],["formControlName","address","rows","4","cols","15"],["type","text","formControlName","website"],["class","input",4,"ngIf"],[1,"div4"],["type","submit",3,"value"],["type","text","formControlName","person"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"div",1),g("click",function(){return a.close()}),e(2,"mat-icon"),i(3,"close"),t()(),e(4,"div",2),d(5,"app-title",3),e(6,"form",4),g("submit",function(){return a.submit()}),e(7,"div",5)(8,"div",6),i(9," Client Name "),t(),e(10,"div",7),d(11,"input",8),t()(),e(12,"div",5)(13,"div",6),i(14," Organization Type "),t(),e(15,"div",7)(16,"select",9)(17,"option",10),i(18,"Choose type"),t(),e(19,"option",11),i(20,"SoftWare Company"),t(),e(21,"option",12),i(22,"Hotel"),t(),e(23,"option",13),i(24,"Collage"),t(),e(25,"option",14),i(26,"Government"),t(),e(27,"option",15),i(28,"Individual"),t(),e(29,"option",16),i(30,"Apartment"),t()()()(),e(31,"div",5)(32,"div",6),i(33," Email "),t(),e(34,"div",7),d(35,"input",17),t()(),e(36,"div",5)(37,"div",6),i(38," Contact Number "),t(),e(39,"div",7),d(40,"input",18),t()(),e(41,"div",5)(42,"div",6),i(43," Address "),t(),e(44,"div",7),d(45,"textarea",19),t()(),e(46,"div",5)(47,"div",6),i(48," Website "),t(),e(49,"div",7),d(50,"input",20),t()(),_(51,fe,5,0,"div",21),e(52,"div",22),d(53,"input",23),t()()()()),n&2&&(c("ngStyle",Q(9,ue,a.display)),l(5),c("title",a.type=="edit"?"Edit Client":"Add Client"),l(),c("formGroup",a.client),l(5),c("className",a.isSubmitted&&a.FC.name.invalid?"error":""),l(5),c("className",a.isSubmitted&&a.FC.type.invalid?"error":""),l(19),c("className",a.isSubmitted&&a.FC.email.invalid?"error":""),l(5),c("className",a.isSubmitted&&a.FC.phone.invalid?"error":""),l(11),c("ngIf",a.FC.type.value!="Individual"),l(2),c("value",a.type=="edit"?"Update":"Add"))},dependencies:[x,y,C,E,ee,B,j,V,D,F,k,A,T,ce,le,re,W],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#0008;position:fixed;z-index:10;top:0;left:0;display:flex;flex-direction:column;justify-content:center;align-items:center}.close[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;color:#fff;background-color:#000;cursor:pointer;width:2rem;height:2rem;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:1rem}.content[_ngcontent-%COMP%]{width:450px;height:90%;background-color:#dcfcdc;border-radius:1rem;box-shadow:0 0 5px 2px gray;overflow:hidden;overflow-y:scroll}.content[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.input[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;margin:.5rem 1rem;width:100%}.lab[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:300;padding-left:.9rem}.intp[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .intp[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%], .intp[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{font-size:1.1rem;padding:.5rem;width:80%;margin:.2rem .7rem;border-radius:.4rem}.div4[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.div4[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:7rem;height:3rem;border-radius:.4rem;background-color:#000;color:#ffebcd;box-shadow:0 0 15px 2px #d3d3d3;border-color:#eff6f9;font-weight:500;transform:scale(1.1)}.div4[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:hover{transform:scale(1)}.error[_ngcontent-%COMP%]{border:2px solid red}"]})};var q=class r{options={path:"./assets/animation/empty.json",loop:!0,autoplay:!0};ngOnInit(){}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=f({type:r,selectors:[["app-not-found"]],decls:3,vars:1,consts:[[1,"container"],[1,"content"],[3,"options"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"div",1),d(2,"ng-lottie",2),t()()),n&2&&(l(2),c("options",a.options))},dependencies:[C,de],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#eff6f9d0;display:flex;flex-direction:column;justify-content:center;align-items:center}.content[_ngcontent-%COMP%]{width:100%;height:100%}img[_ngcontent-%COMP%]{width:300px}"]})};var $=()=>({standalone:!0});function _e(r,o){r&1&&(e(0,"div",26),d(1,"app-not-found"),t())}function Ce(r,o){if(r&1&&(e(0,"div",40)(1,"mat-icon"),i(2,"person"),t(),e(3,"span"),i(4),t()()),r&2){let n=u().$implicit;l(4),m(n.contact_person)}}function he(r,o){if(r&1&&(e(0,"div",40)(1,"mat-icon"),i(2,"mail_outline"),t(),e(3,"span"),i(4),t()()),r&2){let n=u().$implicit;l(4),m(n.email)}}function ye(r,o){if(r&1&&(e(0,"div",40)(1,"mat-icon"),i(2,"phone"),t(),e(3,"span"),i(4),t()()),r&2){let n=u().$implicit;l(4),m(n.contact_number)}}function xe(r,o){if(r&1&&(e(0,"div",40)(1,"mat-icon"),i(2,"location_on"),t(),e(3,"span"),i(4),t()()),r&2){let n=u().$implicit;l(4),m(n.address)}}function Me(r,o){if(r&1&&(e(0,"div",40)(1,"mat-icon"),i(2,"cloud"),t(),e(3,"span")(4,"a",41),i(5),t()()()),r&2){let n=u().$implicit;l(4),c("href",n.website,K),l(),m(n.website)}}function Se(r,o){if(r&1&&(e(0,"div",40)(1,"mat-icon"),i(2,"schedule"),t(),e(3,"span"),i(4),t()()),r&2){let n=u().$implicit;l(4),b("Last Collection:",n.last_collection_date)}}function be(r,o){if(r&1&&(e(0,"h4"),i(1),M(2,"currency"),t()),r&2){let n=u().$implicit;l(),m(S(2,1,n.value,"INR"))}}function Oe(r,o){r&1&&(e(0,"h4"),i(1),M(2,"currency"),t()),r&2&&(l(),m(S(2,1,0,"INR")))}function Ie(r,o){if(r&1&&(e(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"mat-icon"),i(5),t()(),e(6,"h3"),i(7),t(),e(8,"mat-icon"),i(9,"more_vert"),t()(),e(10,"div",32)(11,"span"),i(12),t()()(),_(13,Ce,5,1,"div",33)(14,he,5,1,"div",33)(15,ye,5,1,"div",33)(16,xe,5,1,"div",33)(17,Me,6,2,"div",33)(18,Se,5,1,"div",33),e(19,"div",34)(20,"div",35)(21,"h4"),i(22),t(),i(23," collections "),t(),e(24,"div",35),_(25,be,3,4,"h4",36)(26,Oe,3,4,"h4",36),i(27," Total Value "),t()(),e(28,"div",37)(29,"div",38),i(30),t(),e(31,"div",39)(32,"mat-icon"),i(33,`visibility
`),t(),e(34,"mat-icon"),i(35,"edit"),t()()()()),r&2){let n=o.$implicit;l(5),m(n.type=="Individual"?"person":"apartment"),l(2),m(n.name),l(5),b(" ",n.type),l(),c("ngIf",n.contact_person),l(),c("ngIf",n.email),l(),c("ngIf",n.contact_number),l(),c("ngIf",n.address),l(),c("ngIf",n.website),l(),c("ngIf",n.last_collection_date),l(4),m(n.total_collection?n.total_collection:"0"),l(3),c("ngIf",n.value),l(),c("ngIf",!n.value),l(3),c("ngClass",n.is_current_project?"active":"inactive"),l(),b(" ",n.is_current_project?"Active":"Inactive"," ")}}function Pe(r,o){if(r&1&&(e(0,"div",26),_(1,Ie,36,14,"div",27),t()),r&2){let n=u();l(),c("ngForOf",n.clients)}}var L=class r{constructor(o,n){this.clientServices=o;this.cd=n}name="";type="";active="";totalActive=0;totalValue=0;totalCollection=0;totalCount;display="none";clients=[];sample=[];editClient;ngOnInit(){this.clientServices.getAllClient().subscribe(o=>{this.clients=o,this.sample=o,this.totalCount=o.length;for(let n of this.clients)n.is_current_project&&(this.totalActive+=1),n.total_collection&&(this.totalCollection+=parseInt(n.total_collection.toString())),n.value&&(this.totalValue+=parseInt(n.value.toString()));this.cd.detectChanges()})}search(){this.name.length>2?this.clients=this.sample?.filter(o=>o.name.toLowerCase().includes(this.name.toLowerCase())):this.getAll()}typeChange(){this.type!=""?this.clients=this.sample?.filter(o=>o.type===this.type):this.getAll()}activeChange(){this.active==="active"?this.clients=this.sample?.filter(o=>o.is_current_project):this.active==="inactive"?this.clients=this.sample?.filter(o=>!o.is_current_project):this.getAll()}getAll(){this.clients=this.sample}dis(){this.display=="none"?this.display="flex":(this.display="none",this.reAssign())}edit(o){}reAssign(){this.clientServices.getAllClient().subscribe(o=>{this.clients=o,console.log(this.clients),this.cd.detectChanges()})}static \u0275fac=function(n){return new(n||r)(v(z),v(X))};static \u0275cmp=f({type:r,selectors:[["app-client"]],decls:44,vars:16,consts:[[1,"container"],[1,"content"],[1,"header"],["title","Client Management","sub_title","Manage your E-cycle collection of client"],[1,"add"],[1,"btn",3,"click"],[3,"total_client","active_client","collection","value"],[1,"filter",2,"margin-bottom",".5rem"],["type","text","placeholder","Search",1,"search",3,"ngModelChange","change","ngModel","ngModelOptions"],[1,"div1"],[1,"icon"],[2,"padding-top",".4rem"],[1,"text"],[3,"ngModelChange","change","ngModel","ngModelOptions"],["value",""],["value","Software_Company"],["value","Hotel"],["value","Collage"],["value","Government"],["value","Individual"],["value","Apartment"],["value","active"],["value","inactive"],["width","100%"],["class","client-info",4,"ngIf"],[3,"display"],[1,"client-info"],["class","div2",4,"ngFor","ngForOf"],[1,"div2"],[1,"div21"],[1,"div22"],[1,"div23"],[1,"div24"],["class","div25",4,"ngIf"],[1,"div26"],[1,"div27"],[4,"ngIf"],[1,"div28"],[1,"div29",3,"ngClass"],[1,"div30"],[1,"div25"],["target","_blank",3,"href"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),d(3,"app-title",3),e(4,"div",4)(5,"button",5),g("click",function(){return a.dis()}),i(6,"Add"),t()()(),d(7,"app-client-info",6),e(8,"div",7)(9,"form")(10,"input",8),P("ngModelChange",function(s){return I(a.name,s)||(a.name=s),s}),g("change",function(){return a.search()}),t(),e(11,"div",9)(12,"p")(13,"span",10)(14,"mat-icon",11),i(15,"filter_list"),t()(),e(16,"span",12),i(17,"Filter"),t()(),e(18,"select",13),P("ngModelChange",function(s){return I(a.type,s)||(a.type=s),s}),g("change",function(){return a.typeChange()}),e(19,"option",14),i(20,"All Type"),t(),e(21,"option",15),i(22,"SoftWare Company"),t(),e(23,"option",16),i(24,"Hotel"),t(),e(25,"option",17),i(26,"Collage"),t(),e(27,"option",18),i(28,"Government"),t(),e(29,"option",19),i(30,"Individual"),t(),e(31,"option",20),i(32,"Apartment"),t()(),e(33,"select",13),P("ngModelChange",function(s){return I(a.active,s)||(a.active=s),s}),g("change",function(){return a.activeChange()}),e(34,"option",14),i(35,"All Status"),t(),e(36,"option",21),i(37,"Active"),t(),e(38,"option",22),i(39,"InActive"),t()()()()(),d(40,"hr",23),_(41,_e,2,0,"div",24)(42,Pe,2,1,"div",24),t()(),d(43,"app-add-client",25)),n&2&&(l(7),c("total_client",a.totalCount)("active_client",a.totalActive)("collection",a.totalCollection)("value",a.totalValue),l(3),O("ngModel",a.name),c("ngModelOptions",w(13,$)),l(8),O("ngModel",a.type),c("ngModelOptions",w(14,$)),l(15),O("ngModel",a.active),c("ngModelOptions",w(15,$)),l(8),c("ngIf",!(a.clients!=null&&a.clients.length)),l(),c("ngIf",a.clients==null?null:a.clients.length),l(),c("display",a.display))},dependencies:[W,x,y,C,Y,Z,E,N,B,j,V,D,F,k,A,T,oe,ne,G,R,q],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;z-index:3;position:relative}.content[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:scroll}.content[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:.5rem}.btn[_ngcontent-%COMP%]{width:7rem;height:3rem;border-radius:.4rem;background-color:#000;color:#ffebcd;box-shadow:0 0 15px 2px #d3d3d3;border-color:#eff6f9;font-weight:500;transform:scale(1.1);margin:0 .5rem;cursor:pointer}form[_ngcontent-%COMP%]{width:100%;padding:.5rem 1.5rem;display:flex;justify-content:space-around;align-items:center}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{margin:0 .5rem;padding:.5rem;border-radius:.5rem}.div1[_ngcontent-%COMP%]{display:flex}.icon[_ngcontent-%COMP%]{margin-top:.4rem}form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{display:flex;text-transform:capitalize}.search[_ngcontent-%COMP%]{width:25rem}.client-info[_ngcontent-%COMP%]{width:100%;margin:1rem;display:flex;flex-wrap:wrap;justify-content:space-around;position:relative}.div2[_ngcontent-%COMP%]{width:300px;height:400px;overflow:hidden;padding:1rem;border-radius:2rem;box-shadow:0 0 2px 5px #d3d3d3}.div22[_ngcontent-%COMP%]{display:flex;position:relative}.div22[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin-top:.2rem;display:flex;overflow-wrap:break-word;margin-left:.2rem}.div22[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{margin-top:.5rem;cursor:pointer;position:absolute;right:-5px}.div23[_ngcontent-%COMP%]{height:2em;display:flex;flex-direction:column;justify-content:center}.div24[_ngcontent-%COMP%]{margin:.5rem .5rem .5rem 2rem}.div24[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding:.3rem .5rem;border:2px solid green;background-color:#90ee9067;color:green;border-radius:2rem}.div25[_ngcontent-%COMP%]{display:flex;margin:.25rem .25rem .25rem 1rem}.div25[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{width:2rem}.div25[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:.4rem;margin-top:.2rem;font-size:1.2em;overflow-wrap:break-word}.div25[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-overflow:ellipsis}.div26[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:1rem}.div27[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.div28[_ngcontent-%COMP%]{display:flex;margin:1rem;justify-content:space-between}.div29[_ngcontent-%COMP%]{padding:.2rem .4rem;border-radius:.3rem}.inactive[_ngcontent-%COMP%]{background-color:#ff000061;color:red;font-weight:700}.active[_ngcontent-%COMP%]{background-color:#00ff4461;color:#0f4}.div30[_ngcontent-%COMP%]{display:flex}.div30[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{margin:0 .5rem;cursor:pointer}"]})};export{L as Client};
